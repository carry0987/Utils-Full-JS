!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Utils=t()}(this,(function(){"use strict";function e(...e){console.error(...e)}function t(e){throw new Error(e)}var n=Object.freeze({__proto__:null,reportError:e,throwError:t});function o(e,t,n){if("string"!=typeof e)return e;let o=document;return null===t&&n?o=n:t&&t instanceof Node&&"querySelector"in t?o=t:n&&n instanceof Node&&"querySelector"in n&&(o=n),"all"===t?o.querySelectorAll(e):o.querySelector(e)}function r(e,t={},n=""){let o=document.createElement(e);for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&("textContent"===e||"innerText"===e?o.textContent=t[e]:o.setAttribute(e,t[e]));return n&&(o.textContent=n),o}var s=Object.freeze({__proto__:null,addClass:function(e,t){return e.classList.add(t),e},createElem:r,getElem:o,hasClass:function(e,t){return e.classList.contains(t)},insertAfter:function(e,n){if("string"==typeof n){let e=r("div");e.innerHTML=n,(n=e.firstChild)||t("The new node (string) provided did not produce a valid DOM element.")}e.parentNode.insertBefore(n,e.nextSibling)},insertBefore:function(e,n){if("string"==typeof n){let e=r("div");e.innerHTML=n,(n=e.firstChild)||t("The new node (string) provided did not produce a valid DOM element.")}e.parentNode.insertBefore(n,e)},removeClass:function(e,t){return e.classList.remove(t),e},toggleClass:function(e,t,n){return e.classList.toggle(t,n),e}});let i="utils-style";const a={from:".utils",to:".utils-"};function c(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function l(e){return"function"==typeof e}function u(e){return"string"==typeof e}function d(e){return"number"==typeof e}function f(e){return"boolean"==typeof e}function p(e){return Array.isArray(e)}function m(e){return"number"!=typeof e&&(!e||"string"==typeof e&&0===e.length)}function h(e,...t){if(!t.length)return e;const n=t.shift();if(n)for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t],r=t;c(o)?(e[r]&&"object"==typeof e[r]||(e[r]={}),h(e[r],o)):e[r]=o}return h(e,...t)}function g(e){i=e}function y(e,t){a.from=e,a.to=t}function v(e,t=null){t=m(t)?"":t;let n=r("style");n.id=i+t,n.textContent="",document.head.append(n);let o=n.sheet;for(let n in e)e.hasOwnProperty(n)&&S(o,n,b(e[n]),t)}function b(e){let t="";for(let[n,o]of Object.entries(e))n=n.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),t+=`${n}:${o};`;return t}function S(e,t,n,o=null){o=m(o)?"":o;let r=t.replace(a.from,a.to+o);e.insertRule(r+"{"+n+"}",0)}function w(e=null){const t=m(e)?"":e;let n=o("#"+i+t);n&&n.parentNode&&n.parentNode.removeChild(n)}function E(e=8){return Math.random().toString(36).substring(2,2+e)}function C(e,t=window.location.href){const n=e.startsWith("#");let o;if(n)o=t.substring(t.indexOf("#")+1);else{o=t.includes("#")?t.substring(t.indexOf("?"),t.indexOf("#")):t.substring(t.indexOf("?"))}const r=new URLSearchParams(o),s=n?e.substring(1):e,i=r.get(s);return null===i?null:decodeURIComponent(i)}function O(e,t,n){let o=encodeURIComponent(e)+"="+encodeURIComponent(t)+";";if((n=h({},{expires:new Date(Date.now()+864e5),path:"/",secure:!1,sameSite:"Lax"},n||{})).expires){let e="";e=n.expires instanceof Date?n.expires.toUTCString():new Date(String(n.expires)).toUTCString(),o+="expires="+e+";"}o+="path="+n.path+";",n.domain&&(o+="domain="+n.domain+";"),n.secure&&(o+="secure;"),o+="SameSite="+n.sameSite+";",document.cookie=o}var L=Object.freeze({__proto__:null,getCookie:function(e){const t=encodeURIComponent(e)+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null},getLocalValue:function(t,n=!0){let o=window.localStorage.getItem(t);if(n)try{o=JSON.parse(o)}catch(t){e("Error while parsing stored json value: ",t)}return o},getSessionValue:function(t,n=!0){let o=window.sessionStorage.getItem(t);if(n)try{o=JSON.parse(o)}catch(t){e("Error while parsing stored json value: ",t)}return o},removeCookie:function(e){O(e,"",{expires:new Date(0)})},removeLocalValue:function(e){window.localStorage.removeItem(e)},removeSessionValue:function(e){window.sessionStorage.removeItem(e)},setCookie:O,setLocalValue:function(e,t,n=!0){n&&(t=JSON.stringify(t)),window.localStorage.setItem(e,t)},setSessionValue:function(e,t,n=!0){n&&(t=JSON.stringify(t)),window.sessionStorage.setItem(e,t)}});function D(e,t,n){return new CustomEvent(e,{detail:t,...n})}var _=Object.freeze({__proto__:null,addEventListener:function(e,t,n,o){e.addEventListener(t,n,o)},createEvent:D,dispatchEvent:function(n,o=document,r,s){try{if("string"==typeof n){let e=D(n,r,s);return o.dispatchEvent(e)}if(n instanceof Event)return o.dispatchEvent(n);t("Invalid event type")}catch(t){return e("Dispatch Event Error:",t),!1}},removeEventListener:function(e,t,n,o){e.removeEventListener(t,n,o)}});function j(e,t=new FormData){const{data:n,parentKey:o=""}=e;if(null!==n&&"object"==typeof n)if(n instanceof Blob||n instanceof File){const e=o||"file";t.append(e,n)}else Object.keys(n).forEach((e=>{const r=n[e],s=o?`${o}[${e}]`:e;null!==r&&"object"==typeof r?j({data:r,parentKey:s},t):null!==r&&t.append(s,String(r))}));else null!==n&&t.append(o,n);return t}function x(e,t=""){if(e instanceof FormData)return e;return j({data:e,parentKey:t})}var V=Object.freeze({__proto__:null,appendFormData:j,encodeFormData:x});async function F(e){const{url:t,method:n="GET",headers:o={},body:r=null,beforeSend:s=null,success:i=null,error:a=null}=e;let c={method:n,mode:"cors",headers:o instanceof Headers?o:new Headers(o)};if(null!==r&&["PUT","POST","DELETE"].includes(n.toUpperCase())){let e=r;r instanceof FormData||(e=JSON.stringify(r),c.headers instanceof Headers||(c.headers=new Headers(c.headers)),c.headers.append("Content-Type","application/json")),c.body=e}let l=new Request(t,c);try{const e=await new Promise((e=>{s?.(),e(l)})),t=await fetch(e),n=await t.json();return i?.(n),n}catch(e){throw a?.(e),e}}var T=Object.freeze({__proto__:null,doFetch:F,sendData:async function(e){const{url:t,data:n,method:o="POST",success:r,errorCallback:s,beforeSend:i}=e;return F({url:t,method:o,body:x(n),beforeSend:i,success:e=>{r?.(e)},error:e=>{s?.(e)}})},sendFormData:async function(e){const{url:t,data:n,method:o="POST",success:r,errorCallback:s,beforeSend:i}=e;return F({url:t,method:o,body:x(n),beforeSend:i,success:e=>{r?.(e)},error:e=>{s?.(e)}}).then((()=>!0)).catch((()=>!1))}});class I{constructor(e){Object.assign(this,e)}static version="1.1.16";static utilsVersion="3.2.19";static stylesheetId=i;static replaceRule={from:a.from,to:a.to};static setStylesheetId=g;static setReplaceRule=y;static isObject=c;static isArray=p;static isFunction=l;static isString=u;static isNumber=d;static isBoolean=f;static isEmpty=m;static deepMerge=h;static injectStylesheet=v;static buildRules=b;static compatInsertRule=S;static removeStylesheet=w;static generateRandom=E;static getUrlParam=C;static getElem=s.getElem;static createElem=s.createElem;static insertAfter=s.insertAfter;static insertBefore=s.insertBefore;static addClass=s.addClass;static removeClass=s.removeClass;static toggleClass=s.toggleClass;static hasClass=s.hasClass;static createEvent=_.createEvent;static dispatchEvent=_.dispatchEvent;static addEventListener=_.addEventListener;static removeEventListener=_.removeEventListener;static setLocalValue=L.setLocalValue;static getLocalValue=L.getLocalValue;static removeLocalValue=L.removeLocalValue;static setSessionValue=L.setSessionValue;static getSessionValue=L.getSessionValue;static removeSessionValue=L.removeSessionValue;static setCookie=L.setCookie;static getCookie=L.getCookie;static removeCookie=L.removeCookie;static doFetch=T.doFetch;static sendData=T.sendData;static sendFormData=T.sendFormData;static appendFormData=V.appendFormData;static encodeFormData=V.encodeFormData;static reportError=n.reportError;static throwError=n.throwError}return Object.defineProperty(I,"version",{writable:!1,configurable:!0}),I}));
